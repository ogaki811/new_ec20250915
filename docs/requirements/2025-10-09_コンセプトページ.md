# 要件定義書: Orchestra & Maestro コンセプトページ

**作成日**: 2025-10-09
**担当者**: 開発チーム
**ステータス**: 要件定義中
**リビジョン**: 1.0
**関連ドキュメント**: デザイン計画書 (UI/UXデザイナー作成)

---

## 1. 概要

### 1.1 背景・目的

**背景**:
- Orchestra Design SystemとMaestro Headless Commerceのブランドアイデンティティを確立する必要がある
- **複数の商流・複数のECサイトで利用されることを前提とした設計思想**を明確に伝える
- マルチテナント・マルチブランド対応のデザインシステムとしての価値を訴求する
- デザインシステムの価値とヘッドレスコマースの統合メリットを視覚的に伝える
- 開発者向けにコンポーネントライブラリの威力を実証する
- プロジェクトの技術的な洗練度とアトミックデザイン原則の厳密な適用をアピールする

**目的**:
- OrchestraとMaestroのビジョンと関係性を明確に伝える
- **複数商流（BtoC・BtoB・CtoC）対応の汎用性**を強調する
- **複数ブランドで共通利用できるスケーラビリティ**を訴求する
- デザインシステムとヘッドレスコマースの統合による価値を訴求する
- 再利用可能なコンポーネントの実例を示す
- 開発者の興味を喚起し、ドキュメントやStorybookへ誘導する
- プロジェクトのブランディングを強化する

### 1.2 スコープ

**対象範囲** (含む):
- コンセプトページ本体の実装 (8セクション)
- 新規コンポーネントの作成 (HeroSection, FeatureCard, TechStackGrid, ComponentShowcase, CodeExample)
- レスポンシブ対応 (Mobile/Tablet/Desktop)
- スクロールアニメーション・インタラクション
- Storybook Storyの作成
- ドキュメントの整備

**対象外** (含まない):
- 実際の問い合わせフォーム機能 (CTAのみ)
- 多言語対応 (Phase 2以降)
- ダークモード切り替え (Phase 3以降で検討)
- アナリティクス実装 (Phase 4以降)
- SEO最適化 (Phase 4以降)

### 1.3 用語定義

| 用語 | 定義 |
|------|------|
| Orchestra | 複数商流・複数ECに対応したマルチテナント型UIデザインシステム |
| Maestro | Orchestraを使用して構築されたNext.js 15ベースのマルチコマース対応EC基盤 |
| マルチテナント | 複数のブランド・商流で共通のシステムを利用する形態 |
| マルチコマース | BtoC・BtoB・CtoCなど複数のビジネスモデルに対応する仕組み |
| アトミックデザイン | Atoms→Molecules→Organisms→Templates→Pagesの階層構造でコンポーネントを設計する手法 |
| Hero Section | ページ最上部の大きなビジュアル領域 |
| CTA | Call to Action - ユーザーの行動を促すボタンやリンク |

---

## 2. 機能要件

### 2.1 機能一覧

| ID | 機能名 | 優先度 | 説明 |
|----|--------|--------|------|
| F001 | Hero Section | 高 | ブランドビジュアル、タグライン、CTAボタンを表示 |
| F002 | Concept Introduction | 高 | Orchestra & Maestroの関係性を説明 |
| F003 | Design Philosophy | 高 | アトミックデザイン階層の可視化 |
| F004 | Feature Showcase | 高 | コンポーネントギャラリーの表示 |
| F005 | Technology Stack | 中 | 技術スタックの視覚化 |
| F006 | Use Cases | 中 | ECサイト実装例の紹介 |
| F007 | Developer Experience | 中 | 開発フローの説明 |
| F008 | Call to Action | 高 | Storybook/ドキュメントへの導線 |
| F009 | スクロールアニメーション | 中 | セクションのフェードイン効果 |
| F010 | レスポンシブ対応 | 高 | Mobile/Tablet/Desktop対応 |

### 2.2 詳細仕様

#### F001: Hero Section

**説明**:
ページ最上部に配置し、Orchestra & Maestroのブランドビジュアルと価値提案を印象的に表示する。

**構成要素**:
- ロゴ/ブランド名
- メインタグライン: "Orchestrate Your Commerce Experience"
- サブタイトル: アトミックデザインとヘッドレスコマースの説明
- CTAボタン:
  - Primary: "Storybook を見る"
  - Secondary: "ドキュメント"
- 背景グラデーション (Indigo → Violet)
- デコレーション要素 (音符、楽器のアブストラクト)

**レイアウト**:
```
+--------------------------------------------------+
|                                                  |
|         [Orchestra & Maestro Logo]              |
|                                                  |
|    Orchestrate Your Commerce Experience         |
|                                                  |
|   アトミックデザインで構築された次世代ECプラットフォーム  |
|                                                  |
|   [Storybook を見る]  [ドキュメント]              |
|                                                  |
+--------------------------------------------------+
```

**インタラクション**:
- CTAボタンのホバーエフェクト
- ページロード時のフェードイン (500ms)
- 背景グラデーションのアニメーション

#### F002: Concept Introduction

**説明**:
OrchestraとMaestroの関係性を楽団と指揮者のメタファーで説明する。

**構成要素**:
- セクションタイトル: "The Perfect Harmony"
- 2カラムレイアウト:
  - 左: Orchestraの説明
  - 右: Maestroの説明
- 中央: 統合を表すビジュアル (矢印、接続線)
- 価値提案リスト

**コンテンツ**:
```
Orchestra - マルチテナント対応デザインシステム
- 複数商流・複数ブランド対応
- 厳密なアトミックデザイン原則
- 柔軟なテーマカスタマイズ

Maestro - マルチコマース対応EC基盤
- BtoC・BtoB・CtoC対応
- Orchestraベースの共通基盤
- スケーラブル・高パフォーマンス
```

#### F003: Design Philosophy

**説明**:
アトミックデザインの5階層を視覚的に表現し、実際のコンポーネント例を示す。

**構成要素**:
- アトミックデザイン階層図
- 各階層の実例コンポーネント
- 依存関係の可視化
- インタラクティブな階層切り替え

**階層構造**:
```
Atoms → Molecules → Organisms → Templates → Pages
  ↓         ↓           ↓            ↓         ↓
Button   Breadcrumb   Header    ProductList  商品一覧
Input    Pagination   Footer      CartPage    カート
Badge    Modal      ProductCard  CheckoutPage チェックアウト
```

#### F004: Feature Showcase

**説明**:
主要コンポーネントのライブデモとコード例を表示する。

**構成要素**:
- タブ切り替え (Atoms/Molecules/Organisms)
- コンポーネントプレビュー
- Props切り替え
- コード例表示
- Storybookへのリンク

**表示コンポーネント例**:
- Button (バリアント、サイズ切り替え)
- ProductCard (ホバーエフェクト)
- Modal (開閉デモ)
- Pagination (ページ切り替え)

#### F005: Technology Stack

**説明**:
使用技術をカテゴリ別にグリッド表示する。

**カテゴリ**:
- Frontend: React 19, Next.js 15, TypeScript 5.7
- Styling: Tailwind CSS 4.0
- State Management: Zustand 5.0
- Development: Storybook 9.1, ESLint, Prettier
- Testing: (今後追加予定)

**表示形式**:
- アイコン + 技術名 + バージョン
- 簡単な説明
- 公式サイトへのリンク

#### F006: Use Cases

**説明**:
Maestroを使った実装例を紹介する。

**実装例**:
1. 商品一覧ページ
2. 商品詳細ページ
3. ショッピングカート
4. チェックアウトフロー

**表示要素**:
- スクリーンショット
- 使用コンポーネントリスト
- 実装のポイント
- デモへのリンク

#### F007: Developer Experience

**説明**:
開発フローとツールチェーンを紹介する。

**コンテンツ**:
- 開発フロー図
- 要件定義プロセス
- アトミックデザイン分類
- コーディング規約
- Storybook駆動開発

**ステップ**:
```
1. 要件定義書作成
2. アトミックデザイン分類
3. Storybook Story作成
4. コンポーネント実装
5. テスト・レビュー
6. ドキュメント更新
```

#### F008: Call to Action

**説明**:
ユーザーを次のアクションに誘導する。

**CTAボタン**:
- "Storybook を探索" → http://localhost:6006
- "開発ガイドラインを読む" → docs/DEVELOPMENT_GUIDELINES.md
- "GitHub で見る" → GitHubリポジトリ

**配置**:
- ページ最下部
- 大きなボタン配置
- 背景にグラデーション

---

## 3. 非機能要件

### 3.1 パフォーマンス

| 項目 | 目標値 | 測定方法 |
|------|--------|----------|
| 初回レンダリング | 2秒以内 | Lighthouse Performance |
| Largest Contentful Paint | 2.5秒以内 | Core Web Vitals |
| First Input Delay | 100ms以内 | Core Web Vitals |
| Cumulative Layout Shift | 0.1以下 | Core Web Vitals |
| インタラクション応答 | 100ms以内 | ユーザー操作時の測定 |

### 3.2 アクセシビリティ

**WCAG 準拠レベル**: AA

**対応項目**:
- [x] キーボード操作のみで全機能が利用可能
- [x] スクリーンリーダー対応 (ARIA属性適用)
- [x] カラーコントラスト比 4.5:1以上
- [x] フォーカスインジケーター表示
- [x] 代替テキスト (alt属性) 提供
- [x] セマンティックHTML使用

**アクセシビリティスコア目標**:
- Lighthouse Accessibility: 95点以上

### 3.3 セキュリティ

**認証・認可**:
- 認証: 不要 (公開ページ)
- 認可: 不要

**データ保護**:
- [x] XSS対策 (Reactのエスケープ機能活用)
- [x] 外部リンクに rel="noopener noreferrer" 付与

**個人情報の取り扱い**:
- 取得する個人情報: なし
- 保存: なし

### 3.4 ブラウザ・デバイス対応

**対応ブラウザ**:
- Chrome: 最新版
- Firefox: 最新版
- Safari: 最新版
- Edge: 最新版

**対応デバイス**:
- [x] Desktop (1920x1080以上)
- [x] Tablet (768x1024)
- [x] Mobile (375x667以上)

**レスポンシブ対応**:
- ブレークポイント: 640px (sm), 768px (md), 1024px (lg), 1280px (xl), 1536px (2xl)

---

## 4. UI/UX要件

### 4.1 画面設計

**画面構成**:
```
+----------------------------------+
|       Hero Section               |
+----------------------------------+
|   Concept Introduction           |
+----------------------------------+
|   Design Philosophy              |
+----------------------------------+
|   Feature Showcase               |
+----------------------------------+
|   Technology Stack               |
+----------------------------------+
|   Use Cases                      |
+----------------------------------+
|   Developer Experience           |
+----------------------------------+
|   Call to Action                 |
+----------------------------------+
```

### 4.2 インタラクション

**スクロールアニメーション**:
- セクション進入時: フェードイン (300ms)
- 視差効果: Hero Sectionの背景

**ホバーエフェクト**:
- ボタン: エレベーション変化 (150ms)
- カード: シャドウ強調、上方移動 (200ms)
- リンク: アンダーライン表示 (100ms)

**フィードバック**:
| 操作 | フィードバック方法 |
|------|-------------------|
| CTAクリック | ページ遷移/スクロール |
| コンポーネントプレビュー | インタラクティブデモ |
| コード表示 | シンタックスハイライト |

**アニメーション**:
- フェードイン: 300ms ease-out
- スライド: 200ms ease-in-out
- ホバー: 150ms ease-in-out

### 4.3 デザイントークン

**使用する色**:
- Primary: `#6366F1` (Indigo-500)
- Secondary: `#8B5CF6` (Violet-500)
- Accent: `#EC4899` (Pink-500)
- Text: `#111827` (Gray-900)
- Background: `#FFFFFF` (White)
- Surface: `#F3F4F6` (Gray-100)

**グラデーション**:
- Hero背景: `from-indigo-500 via-violet-500 to-pink-500`
- CTA背景: `from-blue-600 to-indigo-600`

**フォント**:
- 見出しH1: `text-5xl font-bold` (48px)
- 見出しH2: `text-4xl font-bold` (36px)
- 見出しH3: `text-2xl font-semibold` (24px)
- 本文: `text-base` (16px)
- キャプション: `text-sm text-gray-600` (14px)

**スペーシング**:
- セクション間: `py-16` (64px)
- コンテナ: `px-4 md:px-6 lg:px-8`
- カード内: `p-6` (24px)

---

## 5. 技術要件

### 5.1 使用技術

**フロントエンド**:
- HTML5
- CSS3 (Tailwind CSS CDN)
- JavaScript (Vanilla JS - アニメーション用)

**スタイリング**:
- Tailwind CSS: 4.0 (CDN経由)
- カスタムCSS: 最小限

**アニメーション**:
- Intersection Observer API (ネイティブ)
- CSS Transitions/Animations

**開発ツール**:
- Storybook: 9.1.10 (配信環境)
- ESLint (検証用)
- Prettier (フォーマット用)

### 5.2 アトミックデザイン分類

**ディレクトリ構成**:
```
orchestra/
└── public/
    └── concept/
        ├── index.html          # メインHTMLファイル
        ├── styles.css          # カスタムスタイル
        └── assets/
            ├── orchestra-logo.svg
            └── maestro-logo.svg
```

**新規作成コンポーネント** (参考用 - 静的HTML実装):

1. **HeroSection** (セクション)
   - ファイル: `orchestra/public/concept/index.html` 内
   - 実装: HTML + Tailwind CSS クラス
   - 内容: ロゴ、タグライン、CTAボタン

2. **FeatureCard** (カード)
   - ファイル: `orchestra/public/concept/index.html` 内
   - 実装: HTML + Tailwind CSS クラス
   - 内容: アイコン、タイトル、説明

3. **TechStackGrid** (グリッド)
   - ファイル: `orchestra/public/concept/index.html` 内
   - 実装: HTML Grid + Tailwind CSS
   - 内容: 技術スタック一覧

4. **ComponentShowcase** (ショーケース)
   - ファイル: `orchestra/public/concept/index.html` 内
   - 実装: HTML + JavaScript タブ切り替え
   - 内容: コンポーネントデモ

5. **CodeExample** (コード表示)
   - ファイル: `orchestra/public/concept/index.html` 内
   - 実装: `<pre><code>` + シンタックスハイライト
   - 内容: コード例

6. **ConceptPage** (フルページ)
   - ファイル: `orchestra/public/concept/index.html`
   - 静的HTMLページ
   - アクセス: `http://localhost:6006/concept/` または直接ファイル開く

**既存コンポーネントの活用**:
- Button, Badge, Card, Divider (Atoms)
- Breadcrumb, Modal (Molecules)
- Header, Footer (Organisms)

### 5.3 状態管理

**ローカル状態** (useState):
- `activeTab`: ComponentShowcaseのタブ切り替え
- `isCodeVisible`: コード表示/非表示
- `selectedComponent`: 選択中のコンポーネント

**URL State**:
- 不要 (単一ページ)

### 5.4 データ構造

```typescript
interface Technology {
  name: string;
  version: string;
  category: 'frontend' | 'styling' | 'state' | 'development';
  icon: string;
  description: string;
  url: string;
}

interface FeatureCardProps {
  icon: React.ReactNode;
  title: string;
  description: string;
  link?: string;
}

interface CodeExampleProps {
  code: string;
  language: 'typescript' | 'tsx' | 'javascript';
  title?: string;
}
```

---

## 6. 受け入れ基準

### 6.1 機能的受け入れ基準

**必須項目**:
- [x] F001: Hero Sectionが表示される
- [x] F002: Concept Introductionが表示される
- [x] F003: Design Philosophyが表示される
- [x] F004: Feature Showcaseが動作する
- [x] F005: Technology Stackが表示される
- [x] F006: Use Casesが表示される
- [x] F007: Developer Experienceが表示される
- [x] F008: CTAボタンがリンク先に遷移する
- [x] F009: スクロールアニメーションが動作する
- [x] F010: レスポンシブ表示が正常

### 6.2 非機能的受け入れ基準

**パフォーマンス**:
- [x] Lighthouse Performance スコア 90以上
- [x] 初回レンダリング 2秒以内
- [x] CLS 0.1以下

**アクセシビリティ**:
- [x] Lighthouse Accessibility スコア 95以上
- [x] キーボード操作で全機能が利用可能
- [x] スクリーンリーダーで内容が理解可能

**レスポンシブ**:
- [x] Desktop表示が正常 (1920px)
- [x] Tablet表示が正常 (768px)
- [x] Mobile表示が正常 (375px)

### 6.3 品質基準

**コード品質**:
- [x] TypeScriptエラー 0件
- [x] ESLint警告 0件
- [x] コードレビュー承認済み

**テスト**:
- [x] Storybook Story作成済み (全コンポーネント)
- [ ] ユニットテスト作成済み (Phase 2以降)
- [ ] E2Eテスト作成済み (Phase 2以降)

**ドキュメント**:
- [x] 各コンポーネントのドキュメント作成
- [x] Storybook MDX作成
- [x] README更新

---

## 7. 制約事項

### 7.1 技術的制約

**環境**:
- Node.js: 20以上
- ブラウザ: モダンブラウザのみサポート (IE非対応)
- Storybook環境での表示が主目的

**制限事項**:
- 実際のAPI連携は不要 (静的コンテンツ)
- フォーム送信機能は含まない
- 多言語対応は含まない

### 7.2 スケジュール制約

| マイルストーン | 予定日 | 備考 |
|--------------|--------|------|
| 要件定義完了 | 2025-10-09 | 本日 |
| コンポーネント設計完了 | 2025-10-10 | |
| Phase 1 実装完了 | 2025-10-11 | 基盤構築 |
| Phase 2 実装完了 | 2025-10-12 | コンテンツ実装 |
| Phase 3 実装完了 | 2025-10-13 | インタラクション |
| レビュー・調整 | 2025-10-14 | |
| 完成・リリース | 2025-10-15 | |

**クリティカルパス**:
- HeroSection → 他セクション (デザイントーンの基準)
- FeatureCard → TechStackGrid (依存関係)

### 7.3 リソース制約

**人的リソース**:
- 開発者: 1名 (フルスタック)
- デザイナー: AI支援デザイナー
- レビュアー: プロジェクトリーダー

---

## 8. リスクと対応策

| ID | リスク | 影響度 | 発生確率 | 対応策 | 担当者 |
|----|--------|--------|----------|--------|--------|
| R001 | アニメーションがパフォーマンスに影響 | 中 | 中 | IntersectionObserverで最適化 | 開発者 |
| R002 | ライブラリの互換性問題 | 低 | 低 | 事前に互換性確認、代替案検討 | 開発者 |
| R003 | デザインの一貫性が保てない | 中 | 低 | デザイントークンを厳密に適用 | 開発者 |
| R004 | スケジュール遅延 | 中 | 中 | Phase分割で段階的にリリース | リーダー |

---

## 9. 変更履歴

| 日付 | バージョン | 変更内容 | 変更理由 | 担当者 | 承認者 |
|------|-----------|----------|----------|--------|--------|
| 2025-10-09 | 1.0 | 初版作成 | - | 開発チーム | - |
| 2025-10-09 | 1.1 | ディレクトリ名を `storybook/` から `orchestra/` に変更 | プロジェクト構成の明確化 | 開発チーム | - |
| 2025-10-09 | 1.2 | 複数商流・複数EC対応のコンセプトを追加 | プロジェクトの設計思想を明確化 | 開発チーム | - |

---

## 10. 承認

| 役割 | 名前 | 承認日 | サイン | コメント |
|------|------|--------|--------|----------|
| 要件定義者 | 開発チーム | 2025-10-09 | ✓ | |
| レビュアー | - | - | - | 承認待ち |
| 技術責任者 | - | - | - | 承認待ち |
| 最終承認者 | - | - | - | 承認待ち |

---

## 11. 補足資料

### 11.1 参考資料

- デザイン計画書 (UI/UXデザイナー作成)
- DEVELOPMENT_GUIDELINES.md
- README.md
- Atomic Design by Brad Frost

### 11.2 関連Issue

- GitHub Pull Request: TBD

### 11.3 備考

このコンセプトページは、Orchestra Design SystemとMaestro Headless Commerceのブランド確立と技術的価値の訴求を目的としています。アトミックデザインの原則を厳密に適用し、再利用可能なコンポーネントで構築することで、デザインシステムの威力を実証します。

---

**作成者**: 開発チーム
**作成日時**: 2025-10-09
**次のステップ**: アトミックデザイン分類の決定とコンポーネント設計
