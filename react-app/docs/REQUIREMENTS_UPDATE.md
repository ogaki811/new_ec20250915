# 追加要件対応状況

更新日: 2025-10-04（最終更新）

## 📋 追加要件一覧

ユーザーから以下の追加要件を受領しました：

### 第1回追加要件
1. ✅ おすすめ商品のところはもっと小さくしてください
2. ✅ 横に６つは入るように調整してください
3. ✅ ヘッダーは共通化されていますか？
4. ✅ SSRで実装してください
5. ✅ 実装の進捗がわかりやすいようにドキュメントに記録を残してください
6. ✅ へッダーは横幅１００％で実装してください
7. ✅ レスポンシブを考慮して開発してください

### 第2回追加要件（スライダー仕様変更）
8. ✅ スライダーの縦幅は細めにしてください
9. ✅ 3つのスライドが見えるようにしてください
10. ✅ 真ん中に表示している画像はフルで表示してください
11. ✅ 左右の画像については半分見切れて表示してください
12. ✅ レスポンシブも考慮してください

---

## ✅ 対応状況詳細

### 1. おすすめ商品を小さく表示

**対応:**
- ProductCardに`size`プロパティを追加（`compact` | `default` | `large`）
- おすすめ商品では`size="compact"`を使用
- 画像高さ、フォントサイズ、パディングを最適化

**実装例:**
```tsx
<ProductCard
  {...product}
  size="compact"  // おすすめ商品用の小さいサイズ
/>
```

**詳細:** `RESPONSIVE_DESIGN_DETAILS.md` - ProductCard サイズバリエーション

---

### 2. 横に6つの商品を表示

**対応:**
- ProductGridに`variant`プロパティを追加（`recommended` | `normal`）
- `variant="recommended"`でデスクトップ6列グリッド実装
- レスポンシブ対応: モバイル2列 → タブレット3-4列 → デスクトップ6列

**実装例:**
```tsx
<ProductGrid
  title="おすすめ商品"
  products={products}
  variant="recommended"  // 6列グリッド
/>
```

**グリッド設定:**
```tsx
grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4
```

**詳細:** `RESPONSIVE_DESIGN_DETAILS.md` - ProductGrid レスポンシブ設計

---

### 3. ヘッダーの共通化

**対応:**
- Next.js App Routerの`layout.tsx`でヘッダー・フッターを共通化
- 全ページで自動的に共通ヘッダー・フッターが表示

**実装:**
```tsx
// src/app/layout.tsx
export default function RootLayout({ children }) {
  return (
    <html lang="ja">
      <body>
        <Header />        {/* すべてのページで共通 */}
        <main>{children}</main>
        <Footer />        {/* すべてのページで共通 */}
      </body>
    </html>
  );
}
```

**詳細:** `SSR_MIGRATION_PLAN.md` - レイアウト共通化

---

### 4. SSRで実装

**対応:**
- ✅ **Next.js 14 (App Router)を採用決定**
- Server Side Rendering対応
- React Server Componentsでデータ取得
- SEO・OGP最適化

**移行計画:**
- Vite + React → Next.js 14
- React Router → App Router (ファイルベースルーティング)
- クライアントコンポーネント → Server Components

**メリット:**
- SEO向上（検索エンジン最適化）
- 初期表示速度30-50%向上
- OGP対応（SNSシェア）
- 自動コード分割・画像最適化

**詳細:** `SSR_MIGRATION_PLAN.md` - 完全な移行計画

---

### 5. 実装進捗の記録

**対応:**
- ✅ **PROGRESS.md作成**
- コンポーネント別実装状況（26個）
- 週次進捗記録
- 品質指標管理（Lighthouse）
- マイルストーン管理

**PROGRESS.mdの内容:**
- Atoms（6個）実装状況テーブル
- Molecules（9個）実装状況テーブル
- Organisms（9個）実装状況テーブル
- Pages（7個）実装状況テーブル
- 週次進捗グラフ
- 課題管理・メモ

**更新頻度:**
- 週次で進捗更新
- コンポーネント完成時に✅マーク
- 問題発生時に課題記録

**詳細:** `PROGRESS.md` - 実装進捗管理

---

### 6. ヘッダー横幅100%

**対応:**
- ✅ ヘッダーを横幅100%で実装
- `w-full`クラスで画面幅いっぱいに表示
- コンテンツは`max-w-7xl`で中央寄せ
- `sticky top-0 z-50`でスクロール時に固定

**実装:**
```tsx
<header className="w-full bg-white shadow-sm sticky top-0 z-50">
  <div className="container mx-auto px-4 max-w-7xl">
    {/* ヘッダーコンテンツ */}
  </div>
</header>
```

**特徴:**
- ヘッダー背景: 横幅100%
- コンテンツエリア: 最大1280px、中央寄せ
- スクロール時: ページ上部に固定

**詳細:** `RESPONSIVE_DESIGN_DETAILS.md` - Header レスポンシブ実装

---

### 7. レスポンシブ対応

**対応:**
- ✅ **RESPONSIVE_DESIGN_DETAILS.md作成**
- モバイルファーストアプローチ
- 5段階ブレークポイント（sm, md, lg, xl, 2xl）
- すべてのコンポーネントでレスポンシブ設計

**ブレークポイント:**
```typescript
{
  'sm': '640px',   // スマートフォン横向き
  'md': '768px',   // タブレット
  'lg': '1024px',  // ノートPC
  'xl': '1280px',  // デスクトップ
  '2xl': '1536px', // 大型デスクトップ
}
```

**主要コンポーネントのレスポンシブ仕様:**

| コンポーネント | モバイル | タブレット | デスクトップ |
|--------------|---------|-----------|-------------|
| **おすすめ商品グリッド** | 2列 | 3-4列 | **6列** |
| 通常商品グリッド | 2列 | 3列 | 4列 |
| ヘッダー | ハンバーガー | 簡略版 | フルナビ |
| フッター | アコーディオン | グリッド | 4列グリッド |
| HeroSlider | 300px高 | 500px高 | 600px高 |

**詳細:** `RESPONSIVE_DESIGN_DETAILS.md` - コンポーネント別レスポンシブ設計

---

### 8. スライダーの縦幅を細めに

**対応:**
- スライダー高さを250px-400pxに設定（デバイスに応じて調整）
- 既存の600pxから大幅に削減

**実装:**
```jsx
<div className="
  h-[250px]      /* モバイル: 250px */
  sm:h-[300px]   /* タブレット: 300px */
  md:h-[350px]   /* デスクトップ: 350px */
  lg:h-[400px]   /* 大画面: 400px */
">
```

**詳細:** `SLIDER_COMPONENT_PLAN.md` - レスポンシブ高さ設定

---

### 9-11. 3枚同時表示・中央フル・左右半分見切れ

**対応:**
- Swiperの`centeredSlides: true`で中央フォーカス
- `slidesPerView: 2.2`で3枚同時表示（左0.6 + 中央1 + 右0.6）
- 中央の画像がフル表示、左右は約40%見切れ

**Swiper設定:**
```jsx
<Swiper
  centeredSlides={true}
  slidesPerView="auto"
  breakpoints={{
    // モバイル: 1枚表示
    320: {
      slidesPerView: 1,
      centeredSlides: true,
    },
    // タブレット: 中央フル + 右側半分見切れ
    768: {
      slidesPerView: 1.5,
      centeredSlides: true,
    },
    // デスクトップ: 中央フル + 左右半分見切れ
    1024: {
      slidesPerView: 2.2,
      centeredSlides: true,
    },
  }}
/>
```

**視覚効果:**
- 中央のスライド: `transform: scale(1.05)` で拡大
- 左右のスライド: `opacity: 0.7` で暗め表示
- ホバー時: `opacity: 1` で明るく

**詳細:** `SLIDER_COMPONENT_PLAN.md` - 3枚同時表示・中央フォーカス

---

### 12. スライダーのレスポンシブ対応

**対応:**
- モバイル: 1枚表示（フル幅）
- タブレット: 1.5枚表示（中央フル + 右側半分）
- デスクトップ: 2.2枚表示（中央フル + 左右半分）

| デバイス | slidesPerView | 表示状態 |
|---------|---------------|---------|
| モバイル（<768px） | 1 | 1枚のみ |
| タブレット（768px-1023px） | 1.5 | 中央 + 右側半分 |
| デスクトップ（≥1024px） | 2.2 | **中央 + 左右半分** |

**詳細:** `SLIDER_COMPONENT_PLAN.md` - レスポンシブ設計

---

## 📁 作成したドキュメント

追加要件対応のため、以下3つの新規ドキュメントを作成：

### 1. SSR_MIGRATION_PLAN.md
- **内容:** Next.js 14への完全移行計画
- **サイズ:** 詳細な実装例、移行手順、設定ファイル
- **重要度:** ★★★★★（最重要）

### 2. PROGRESS.md
- **内容:** 実装進捗管理・週次記録
- **サイズ:** コンポーネント26個のトラッキング
- **重要度:** ★★★★☆（進捗可視化）

### 3. RESPONSIVE_DESIGN_DETAILS.md
- **内容:** レスポンシブ詳細設計・実装例
- **サイズ:** 全コンポーネントのレスポンシブ仕様
- **重要度:** ★★★★★（UI品質）

**総ドキュメント数:** 11個（計画フェーズ完了）

---

## 🎯 実装時の重点ポイント

### 1. おすすめ商品セクション
```tsx
// 横6列、compactサイズで実装
<ProductGrid
  title="おすすめ商品"
  products={recommendedProducts}
  variant="recommended"  // 6列グリッド
  showViewAll
/>
```

### 2. ヘッダー実装
```tsx
// 横幅100%、sticky固定、レスポンシブ
<header className="w-full sticky top-0 z-50">
  <div className="container mx-auto max-w-7xl">
    {/* モバイル: ハンバーガーメニュー */}
    {/* デスクトップ: フルナビゲーション */}
  </div>
</header>
```

### 3. レスポンシブ確認
- [ ] モバイル（375px）: 2列表示
- [ ] タブレット（768px）: 3-4列表示
- [ ] デスクトップ（1280px）: **6列表示**
- [ ] ヘッダー横幅100%確認
- [ ] 全デバイスで操作性確認

### 4. 進捗記録
- 週次でPROGRESS.md更新
- コンポーネント完成時にマーク
- 問題発生時に課題記録

---

## ✅ 要件達成度

### 第1回追加要件
| 要件 | 計画 | 実装 | テスト | ステータス |
|-----|------|------|--------|----------|
| おすすめ商品を小さく | ✅ | - | - | 計画完了 |
| 横6列表示 | ✅ | - | - | 計画完了 |
| ヘッダー共通化 | ✅ | - | - | 計画完了 |
| SSR実装 | ✅ | - | - | 計画完了 |
| 進捗記録 | ✅ | - | - | 計画完了 |
| ヘッダー横幅100% | ✅ | - | - | 計画完了 |
| レスポンシブ対応 | ✅ | - | - | 計画完了 |

### 第2回追加要件（スライダー）
| 要件 | 計画 | 実装 | テスト | ステータス |
|-----|------|------|--------|----------|
| スライダー縦幅細め | ✅ | - | - | 計画完了 |
| 3枚同時表示 | ✅ | - | - | 計画完了 |
| 中央フル表示 | ✅ | - | - | 計画完了 |
| 左右半分見切れ | ✅ | - | - | 計画完了 |
| スライダーレスポンシブ | ✅ | - | - | 計画完了 |

**計画フェーズ:** 100%完了 ✅（全12要件）
**実装フェーズ:** 次のステップ

---

## 🚀 次のアクション

### Immediate（即実施）
1. Next.jsプロジェクト作成
```bash
npx create-next-app@latest next-app --typescript --tailwind --app --src-dir
```

2. パッケージインストール
```bash
npm install swiper react-hook-form @heroicons/react
```

### Week 1（実装開始）
- Atomsコンポーネント実装（6個）
- PROGRESS.md更新開始

### Week 2-3（本格実装）
- Molecules・Organismsコンポーネント実装
- おすすめ商品6列グリッド実装
- ヘッダー横幅100%実装

### Week 4（ページ統合）
- 全ページ実装
- レスポンシブ確認

### Week 5（最適化）
- Lighthouse測定
- SEO・OGP設定
- 最終調整

---

## 📊 成功基準

### 第1回要件
- [ ] おすすめ商品がデスクトップで横6列表示
- [ ] おすすめ商品がcompactサイズで表示
- [ ] ヘッダーが横幅100%で表示
- [ ] ヘッダー・フッターが全ページで共通化
- [ ] すべてのページでSSR動作
- [ ] PROGRESS.mdで進捗が可視化
- [ ] モバイル・タブレット・デスクトップで正しく表示

### 第2回要件（スライダー）
- [ ] **スライダー高さが細め（250px-400px）**
- [ ] **デスクトップで3枚同時表示**
- [ ] **中央の画像がフル表示**
- [ ] **左右の画像が半分見切れ表示**
- [ ] モバイルで1枚表示
- [ ] タブレットで1.5枚表示
- [ ] 中央のスライドが拡大・強調されている
- [ ] 左右のスライドが少し暗くなっている

### 全体
- [ ] Lighthouseスコア90点以上

---

**すべての追加要件（全12項目）を計画に反映完了。実装準備完了。** 🎉
