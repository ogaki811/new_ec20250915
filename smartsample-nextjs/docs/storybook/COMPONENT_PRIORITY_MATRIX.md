# Storybookコンポーネント優先度マトリクス

**プロジェクト**: smartsample Next.js ECサイト
**作成日**: 2025年10月7日
**更新日**: 2025年10月7日

---

## 優先度判定基準

コンポーネントの実装優先度を以下の4つの軸で評価：

| 評価軸 | 配点 | 説明 |
|--------|------|------|
| **使用頻度** | 0-5点 | 全ページで使用=5、特定ページのみ=1 |
| **再利用性** | 0-5点 | 高度に再利用可能=5、特定用途のみ=1 |
| **複雑度** | 0-5点 | シンプル=5、複雑=1（早く着手すべき） |
| **ビジネス価値** | 0-5点 | コア機能=5、補助機能=1 |

**合計点**: 20点満点
**優先度分類**:
- **P0（最優先）**: 18-20点
- **P1（高）**: 14-17点
- **P2（中）**: 10-13点
- **P3（低）**: 6-9点
- **P4（将来）**: 0-5点

---

## UIコンポーネント（11個）

### P0: 最優先（18-20点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **Button** | 5 | 5 | 5 | 5 | **20** | 0.25日 |
| **Input** | 5 | 5 | 4 | 5 | **19** | 0.25日 |

#### Button
- **バリエーション**: 5 variants × 3 sizes = 15パターン
- **使用箇所**: 全ページ（フォーム、CTA、ナビゲーション）
- **Story例**:
  - Primary/Secondary/Outline/Ghost/Danger
  - Small/Medium/Large
  - Loading状態
  - Disabled状態
  - Full Width

#### Input
- **バリエーション**: 通常/エラー/ヘルパーテキスト
- **使用箇所**: ログイン、サインアップ、検索、チェックアウト
- **Story例**:
  - Default
  - With Label
  - With Error
  - With Helper Text
  - Disabled
  - Full Width

---

### P1: 高（14-17点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **Card** | 5 | 5 | 4 | 3 | **17** | 0.25日 |
| **Badge** | 4 | 5 | 5 | 3 | **17** | 0.25日 |
| **Checkbox** | 4 | 5 | 4 | 3 | **16** | 0.25日 |
| **Radio** | 4 | 5 | 4 | 3 | **16** | 0.25日 |
| **Select** | 4 | 4 | 3 | 3 | **14** | 0.25日 |

#### Card
- **使用箇所**: 商品カード、情報パネル、ダッシュボード
- **Story例**:
  - Default
  - With Header
  - With Footer
  - Hover Effect
  - Shadow Variants

#### Badge
- **バリエーション**: 4 variants × 2 sizes = 8パターン
- **使用箇所**: 商品タグ、ステータス表示、通知
- **Story例**:
  - Primary/Success/Warning/Danger
  - Small/Medium
  - Rounded/Square

#### Checkbox
- **使用箇所**: フォーム、フィルター、利用規約同意
- **Story例**:
  - Default
  - Checked
  - With Label
  - With Error
  - Disabled

#### Radio
- **使用箇所**: 支払い方法選択、配送方法選択
- **Story例**:
  - Default
  - Selected
  - Group
  - With Label
  - Disabled

#### Select
- **使用箇所**: 並び替え、カテゴリー選択、フォーム
- **Story例**:
  - Default
  - With Options
  - With Error
  - Disabled
  - Multiple

---

### P2: 中（10-13点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **Textarea** | 3 | 4 | 4 | 2 | **13** | 0.25日 |
| **Icon** | 4 | 3 | 4 | 2 | **13** | 0.25日 |

#### Textarea
- **使用箇所**: お問い合わせフォーム、レビュー投稿
- **Story例**:
  - Default
  - With Label
  - With Error
  - Resizable
  - Character Count

#### Icon
- **使用箇所**: ボタン、ナビゲーション、ステータス
- **Story例**:
  - All Icons Showcase
  - Size Variants
  - Color Variants
  - Interactive Icons

---

### P3: 低（6-9点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **Divider** | 3 | 3 | 5 | 1 | **12** | 0.1日 |
| **Loading** | 3 | 3 | 4 | 1 | **11** | 0.1日 |

#### Divider
- **使用箇所**: セクション区切り、リスト区切り
- **Story例**:
  - Horizontal
  - Vertical
  - With Text
  - Dashed/Solid

#### Loading
- **使用箇所**: データ読み込み中、ページ遷移
- **Story例**:
  - Spinner
  - With Text
  - Size Variants
  - Full Page Overlay

---

## 機能コンポーネント（13個 - product/）

### P0: 最優先（18-20点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **ProductCard** | 5 | 5 | 3 | 5 | **18** | 1日 |

#### ProductCard
- **バリエーション**: 3 sizes × 複数状態
- **依存**: Zustand (useCartStore, useFavoritesStore)
- **使用箇所**: トップページ、商品一覧、検索結果、関連商品
- **Story例**:
  - Compact Size
  - Default Size
  - Large Size
  - With Tags
  - Out of Stock
  - In Favorites
  - Loading State

**特記事項**:
- Zustandモックが必須
- Toastモックが必要
- 画像エラーハンドリング確認

---

### P1: 高（14-17点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **QuantitySelector** | 4 | 5 | 4 | 3 | **16** | 0.5日 |
| **ProductImageGallery** | 3 | 4 | 3 | 4 | **14** | 0.5日 |

---

### P2: 中（10-13点）

その他のproductコンポーネント（ProductFilter, ProductSort等）

---

## レイアウトコンポーネント（5個）

### P1: 高（14-17点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **Header** | 5 | 5 | 2 | 4 | **16** | 1日 |
| **Footer** | 5 | 5 | 3 | 2 | **15** | 0.5日 |

#### Header
- **複雑度**: 高（検索、カート、メニュー）
- **依存**: Zustand (useCartStore)
- **Story例**:
  - Desktop View
  - Mobile View
  - With Search Open
  - With User Logged In
  - With Cart Items

#### Footer
- **Story例**:
  - Desktop (4カラム)
  - Mobile (アコーディオン)

---

### P2: 中（10-13点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **MobileMenu** | 4 | 3 | 3 | 3 | **13** | 0.5日 |
| **SimpleHeader** | 3 | 3 | 4 | 2 | **12** | 0.25日 |
| **SimpleFooter** | 3 | 3 | 4 | 2 | **12** | 0.25日 |

---

## 共通コンポーネント（4個 - common/）

### P1: 高（14-17点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **Breadcrumb** | 4 | 5 | 4 | 3 | **16** | 0.5日 |
| **Pagination** | 4 | 5 | 4 | 3 | **16** | 0.5日 |

#### Breadcrumb
- **使用箇所**: 全詳細ページ
- **Story例**:
  - 2 Levels
  - 3 Levels
  - 4+ Levels
  - With Icons

#### Pagination
- **使用箇所**: 商品一覧、検索結果、注文履歴
- **Story例**:
  - First Page
  - Middle Page
  - Last Page
  - Many Pages

---

## カート/チェックアウトコンポーネント

### P1: 高（14-17点）

| コンポーネント | 使用頻度 | 再利用性 | 複雑度 | ビジネス価値 | 合計 | 実装工数 |
|--------------|---------|---------|--------|-------------|------|----------|
| **CartItem** | 3 | 3 | 3 | 5 | **14** | 0.5日 |

---

## 実装スケジュール（優先度ベース）

### Week 1: Phase 1 - セットアップ + P0 UIコンポーネント

**Day 1-2**: 環境構築
- Storybookインストール
- Tailwind/Next.js統合
- モックProvider作成

**Day 3**: P0 UIコンポーネント
- Button (0.25日)
- Input (0.25日)

**Day 4-5**: 動作確認とドキュメント整備

---

### Week 2: Phase 2 - P1 UIコンポーネント

**Day 1-3**:
- Card, Badge, Checkbox, Radio, Select (各0.25日 = 1.25日)

**Day 4-5**:
- Textarea, Icon (各0.25日)
- 残りのP3コンポーネント（Divider, Loading）

---

### Week 3: Phase 3a - P0/P1 機能コンポーネント

**Day 1-2**:
- ProductCard (1日) ← 最重要

**Day 3-4**:
- QuantitySelector (0.5日)
- ProductImageGallery (0.5日)
- Breadcrumb (0.5日)

**Day 5**:
- Pagination (0.5日)

---

### Week 4: Phase 3b - レイアウトコンポーネント

**Day 1-2**:
- Header (1日)

**Day 3**:
- Footer (0.5日)

**Day 4-5**:
- MobileMenu (0.5日)
- CartItem (0.5日)

---

### Week 5: Phase 4 - 高度な機能

**Day 1-2**: アクセシビリティ対応
**Day 3**: ドキュメント整備
**Day 4**: ビルド・デプロイ
**Day 5**: 運用ルール策定

---

## 合計工数見積もり

| カテゴリ | コンポーネント数 | 合計工数 |
|---------|----------------|---------|
| **UIコンポーネント** | 11個 | 2.5日 |
| **機能コンポーネント** | 5個（優先） | 3.5日 |
| **レイアウト** | 3個（優先） | 2日 |
| **共通** | 2個 | 1日 |
| **環境構築・その他** | - | 5日 |
| **合計** | 21個 | **14日（約3週間）** |

---

## 進捗トラッキング

### Phase 1完了チェックリスト

- [ ] Button Story完成
- [ ] Input Story完成
- [ ] Storybookが正常起動
- [ ] Tailwind CSSスタイル適用確認

### Phase 2完了チェックリスト

- [ ] 11個のUIコンポーネントStory完成
- [ ] 全バリエーションのテスト完了
- [ ] インタラクティブControls動作確認

### Phase 3完了チェックリスト

- [ ] ProductCard Story完成
- [ ] Zustandモック動作確認
- [ ] レスポンシブ表示確認

### Phase 4完了チェックリスト

- [ ] a11yアドオンでスコア90点以上
- [ ] Storybook静的サイト公開
- [ ] 運用ガイドライン作成

---

**文書バージョン**: 1.0
**最終更新**: 2025年10月7日
